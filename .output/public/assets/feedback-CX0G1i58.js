import"./dist-C8bHO1wO.js";import{B as e,D as t,G as n,H as r,L as i,O as a,Q as o,Y as s,a as c,et as l,f as u,j as d,k as f,n as p}from"./main-DjdsgoKC.js";import"./clsx-CTPc_hx4.js";import{C as m,_ as h,b as g,h as _,i as v,n as y,r as b,t as x,v as S,x as C,y as w}from"./StepPersonalInfo-CRgl4Zjp.js";import{P as T,t as E}from"./button-Cn66Fygb.js";var D=[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]],O=e=>n(T,l(e,{iconNode:D,name:`star`}));const k=()=>{let e=p(()=>({mutationKey:[`feedback submission`],mutationFn:async e=>{let t=await w().feedback.post(e);if(!t.data){let e=t.error?.value?.message||t.error?.value?.summary||`Failed to submit feedback`;throw Error(e)}return t.data},onSuccess:()=>{m.success(`Feedback submitted successfully! Thank you for your response.`)},onError:e=>{m.error(e.message||`Failed to submit feedback. Please try again.`)}})),t=s(()=>e.isPending);return{submitFeedback:e.mutateAsync,isSubmitting:t,error:e.error,reset:e.reset}};var A=i(`<span class="tracking-wider text-xs sm:text-sm">BACK`),j=i(`<div class="px-4 py-6 sm:px-6 sm:py-8 md:px-12 md:py-12 border-b-2 border-black dark:border-white bg-white dark:bg-black"><div class="max-w-4xl mx-auto"><!$><!/><div class="mb-4 sm:mb-6"><h2 class="mb-2 text-black dark:text-white text-lg sm:text-xl font-medium">Session Feedback</h2><p class="text-sm sm:text-base text-neutral-600 dark:text-neutral-400">Step <!$><!/> of <!$><!/></p></div><!$><!/>`);function M(e){let r=()=>e.currentStep/e.totalSteps*100;return(()=>{var i=t(j),o=i.firstChild,s=o.firstChild,[c,l]=a(s.nextSibling),u=c.nextSibling,d=u.firstChild.nextSibling,p=d.firstChild.nextSibling,[m,h]=a(p.nextSibling),g=m.nextSibling.nextSibling,[v,y]=a(g.nextSibling),b=u.nextSibling,[x,C]=a(b.nextSibling);return f(o,n(E,{get onClick(){return e.onBack},variant:`outline`,class:`flex items-center gap-2 mb-6 sm:mb-8 border-2 border-black dark:border-white text-black dark:text-white hover:bg-black dark:hover:bg-white hover:text-white dark:hover:text-black px-4 py-2 sm:px-6 sm:py-3`,get children(){return[n(S,{class:`w-4 h-4 sm:w-5 sm:h-5`}),t(A)]}}),c,l),f(d,()=>e.currentStep,m,h),f(d,()=>e.totalSteps,v,y),f(o,n(_,{get value(){return r()},class:`h-0.5`}),x,C),i})()}var N=i(`<div class="flex gap-2">`);function P(r){return(()=>{var i=t(N);return f(i,n(e,{each:[1,2,3,4,5],children:e=>n(c.button,{hover:{scale:1.1},press:{scale:.95},onClick:()=>r.onChange(e),class:`focus:outline-none`,get children(){return n(O,{get class(){return`w-8 h-8 md:w-10 md:h-10 transition-colors ${e<=r.value?`fill-black dark:fill-white stroke-black dark:stroke-white`:`stroke-black dark:stroke-white fill-white dark:fill-transparent`}`}})}})})),i})()}var F=i(`<div class=space-y-12><div><h3 class="mb-2 text-black dark:text-white">How useful was the session?</h3><p class="text-neutral-600 dark:text-neutral-400 mb-6">Rate the practical value you got from it</p><!$><!/></div><div><h3 class="mb-2 text-black dark:text-white">How clear was the content?</h3><p class="text-neutral-600 dark:text-neutral-400 mb-6">Was it easy to understand and follow?</p><!$><!/></div><div><h3 class="mb-2 text-black dark:text-white">How engaging was it?</h3><p class="text-neutral-600 dark:text-neutral-400 mb-6">Did it keep your attention?</p><!$><!/>`);function I(e){let r=t=>n=>{e.onChange({...e.data,[t]:n})};return(()=>{var i=t(F),o=i.firstChild,s=o.firstChild.nextSibling.nextSibling,[c,l]=a(s.nextSibling),u=o.nextSibling,d=u.firstChild.nextSibling.nextSibling,[p,m]=a(d.nextSibling),h=u.nextSibling,g=h.firstChild.nextSibling.nextSibling,[_,v]=a(g.nextSibling);return f(o,n(P,{get value(){return e.data.usefulness},get onChange(){return r(`usefulness`)}}),c,l),f(u,n(P,{get value(){return e.data.clarity},get onChange(){return r(`clarity`)}}),p,m),f(h,n(P,{get value(){return e.data.engagement},get onChange(){return r(`engagement`)}}),_,v),i})()}var L=i(`<div class=space-y-6><div><h3 class="mb-2 text-black dark:text-white"></h3><p class="text-neutral-600 dark:text-neutral-400 mb-6"></p></div><!$><!/><!$><!/>`),R=i(`<p class="text-sm text-neutral-500 dark:text-neutral-400">Optional - but your input matters!`);function z(e){let r=t=>n=>{e.onChange({...e.data,[t]:n})},i=[{title:`What did you like most?`,description:`Tell us what resonated with you`,placeholder:`I really enjoyed learning about...`},{title:`What could be improved?`,description:`Your honest feedback helps us get better`,placeholder:`I think it would be better if...`},{title:`What topics interest you?`,description:`What should we cover in the next session?`,placeholder:`I'd love to learn about...`,optional:!0}][e.step],o=[`liked`,`improve`,`nextTopics`][e.step];return(()=>{var s=t(L),c=s.firstChild,l=c.firstChild,u=l.nextSibling,p=c.nextSibling,[m,h]=a(p.nextSibling),g=m.nextSibling,[_,x]=a(g.nextSibling);return f(l,()=>i.title),f(u,()=>i.description),f(s,n(y,{get children(){return[n(b,{class:`text-sm font-medium mb-2 block text-black dark:text-white`}),n(v,{get value(){return e.data[o]},onInput:e=>r(o)(e.currentTarget.value),get placeholder(){return i.placeholder},class:`min-h-[200px] border-black dark:border-white resize-none text-sm p-6 bg-white dark:bg-gray-950 text-black dark:text-white focus:ring-border-neutral-200 focus:ring-neutral-300`})]}}),m,h),f(s,(()=>{var e=d(()=>!!i.optional);return()=>e()&&t(R)})(),_,x),s})()}var B=i(`<div class="px-4 py-8 sm:px-6 sm:py-12 md:px-12 md:py-16"><div class="max-w-4xl mx-auto"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/><div class="flex flex-col sm:flex-row gap-3 sm:gap-4 mt-8 sm:mt-12"><!$><!/><!$><!/><!$><!/>`);function V(e){let{submitFeedback:i,isSubmitting:s}=k(),[l,u]=o(0),[p,_]=o({name:``,email:``,year:``,batch:``,department:``}),[v,y]=o({usefulness:0,clarity:0,engagement:0}),[b,S]=o({liked:``,improve:``,nextTopics:``}),w=()=>{let e=l(),t=p(),n=v(),r=b();return e===0?t.name.trim().length>0&&t.email.trim().length>0&&t.year&&t.batch&&t.department:e===1?n.usefulness>0&&n.clarity>0&&n.engagement>0:e===2?r.liked.trim().length>0:e===3?r.improve.trim().length>0:!0},T=async()=>{try{let t=p(),n=v(),r=b(),a=Math.round((n.usefulness+n.clarity+n.engagement)/3),o=parseInt(t.year,10),s=parseInt(t.batch,10);await i({name:t.name,email:t.email,year:o,batch:s,department:t.department,workedWell:r.liked,improve:r.improve,rating:a,sessionType:C.Lecture,sessionName:g.GitLinkedInBase,sessionDate:`2025-10-14`}),e.onComplete()}catch(e){e instanceof Error&&m.error(e.message)}};return n(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},class:`min-h-screen bg-white dark:bg-black`,get children(){return[n(M,{get currentStep(){return l()+1},totalSteps:5,get onBack(){return e.onBack}}),(()=>{var e=t(B),i=e.firstChild,o=i.firstChild,[m,g]=a(o.nextSibling),C=m.nextSibling,[D,O]=a(C.nextSibling),k=D.nextSibling,[A,j]=a(k.nextSibling),M=A.nextSibling,[N,P]=a(M.nextSibling),F=N.nextSibling,[L,R]=a(F.nextSibling),V=L.nextSibling,H=V.firstChild,[U,W]=a(H.nextSibling),G=U.nextSibling,[K,q]=a(G.nextSibling),J=K.nextSibling,[Y,X]=a(J.nextSibling);return f(i,n(r,{get when(){return l()===0},get children(){return n(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},get children(){return n(x,{get data(){return p()},onChange:_})}})}}),m,g),f(i,n(r,{get when(){return l()===1},get children(){return n(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},get children(){return n(I,{get data(){return v()},onChange:y})}})}}),D,O),f(i,n(r,{get when(){return l()===2},get children(){return n(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},get children(){return n(z,{step:0,get data(){return b()},onChange:S})}})}}),A,j),f(i,n(r,{get when(){return l()===3},get children(){return n(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},get children(){return n(z,{step:1,get data(){return b()},onChange:S})}})}}),N,P),f(i,n(r,{get when(){return l()===4},get children(){return n(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},get children(){return n(z,{step:2,get data(){return b()},onChange:S})}})}}),L,R),f(V,n(r,{get when(){return l()>0},get children(){return n(E,{onClick:()=>u(l()-1),variant:`outline`,class:`w-full sm:w-auto border-2 border-black dark:border-white px-6 sm:px-8 py-4 sm:py-6 text-black dark:text-white hover:bg-black dark:hover:bg-white hover:text-white dark:hover:text-black text-sm sm:text-base`,children:`PREVIOUS`})}}),U,W),f(V,n(r,{get when(){return l()<4},get children(){return n(E,{onClick:()=>u(l()+1),get disabled(){return!w()},class:`w-full sm:w-auto bg-black dark:bg-white text-white dark:text-black hover:bg-neutral-800 dark:hover:bg-neutral-200 px-6 sm:px-8 py-4 sm:py-6 disabled:opacity-30 border-0 text-sm sm:text-base`,children:`NEXT STEP`})}}),K,q),f(V,n(r,{get when(){return l()===4},get children(){return n(E,{onClick:T,get disabled(){return s()},class:`w-full sm:w-auto bg-black dark:bg-white text-white dark:text-black hover:bg-neutral-800 dark:hover:bg-neutral-200 px-6 sm:px-8 py-4 sm:py-6 border-0 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base`,get children(){return[n(r,{get when(){return s()},get children(){return n(h,{class:`animate-spin`,size:16})}}),d(()=>s()?`SUBMITTING...`:`SUBMIT FEEDBACK`)]}})}}),Y,X),e})()]}})}function H(){let e=u();return n(V,{onComplete:async()=>{await e({to:`/thank-you`})},onBack:async()=>{await e({to:`/`})}})}export{H as component};